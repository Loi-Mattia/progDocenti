{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../exam.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ExamListComponent_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\")(18, \"a\", 8);\n    i0.ɵɵtext(19, \"Testo\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"td\")(21, \"a\", 8);\n    i0.ɵɵtext(22, \"Griglia\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"td\", 9)(24, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ExamListComponent_tr_34_Template_button_click_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const row_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updateVerifica(row_r1.id));\n    });\n    i0.ɵɵelement(25, \"i\", 11);\n    i0.ɵɵtext(26, \"U\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ExamListComponent_tr_34_Template_button_click_27_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const row_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteVerifica(row_r1.id));\n    });\n    i0.ɵɵelement(28, \"i\", 13);\n    i0.ɵɵtext(29, \"D\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const row_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r1.titolo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r1.indirizzo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r1.tipo_prova);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r1.difficolta);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r1.durata);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r1.classe);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r1.materia);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", row_r1.testo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", row_r1.griglia, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class ExamListComponent {\n  constructor(userService, router, location) {\n    this.userService = userService;\n    this.router = router;\n    this.location = location;\n    this.data = undefined;\n    this.fati = data => {\n      this.data = data;\n    };\n  }\n  ngOnInit() {\n    this.reloadData();\n  }\n  reloadData() {\n    this.obsRooms = this.userService.getVerificaList();\n    this.obsRooms.subscribe(this.fati);\n  }\n  deleteVerifica(id) {\n    this.userService.deleteVerifica(id).subscribe(data => {\n      console.log(data);\n      this.reloadData();\n    }, error => console.log(error));\n  }\n  updateVerifica(id) {\n    this.router.navigate(['updateVerifica', id]);\n  }\n  logout() {\n    // Clear session data\n    this.t = localStorage.removeItem('user');\n    this.router.navigate(['/login']);\n    console.log(\"hjhjhjhjhjhjkhjkh\" + this.t);\n  }\n}\nExamListComponent.ɵfac = function ExamListComponent_Factory(t) {\n  return new (t || ExamListComponent)(i0.ɵɵdirectiveInject(i1.ExamService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Location));\n};\nExamListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ExamListComponent,\n  selectors: [[\"app-exam-list\"]],\n  decls: 35,\n  vars: 1,\n  consts: [[1, \"panel\", \"panel-primary\", \"container\"], [1, \"panel-heading\"], [1, \"navbar\", \"navbar-expand-sm\", \"bg-dark\", 2, \"color\", \"white\"], [\"routerLink\", \"/addVerifica\", \"routerLinkActive\", \"active\", 1, \"btn\", \"btn-danger\", \"scrollto\", 2, \"margin-left\", \"50px\"], [\"routerLinkActive\", \"active\", 1, \"btn\", \"btn-danger\", \"scrollto\", 2, \"cursor\", \"pointer\", \"right\", \"0\", \"margin-left\", \"10px\", 3, \"click\"], [1, \"panel-body\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-warning\", \"btn-download\", \"btn-sm\", 3, \"href\"], [\"width\", \"150\"], [1, \"btn\", \"btn-warning\", 2, \"margin-left\", \"10px\", 3, \"click\"], [1, \"bi\", \"bi-pencil-square\"], [1, \"btn\", \"btn-danger\", 2, \"margin-left\", \"10px\", 3, \"click\"], [1, \"bi\", \"bi-trash3\"]],\n  template: function ExamListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"Exams List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"nav\", 2)(5, \"ul\")(6, \"strong\");\n      i0.ɵɵtext(7, \"Logged in\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"a\", 3);\n      i0.ɵɵtext(9, \"Add Exam\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"a\", 4);\n      i0.ɵɵlistener(\"click\", function ExamListComponent_Template_a_click_10_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(11, \"Logout\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(12, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 5)(14, \"table\", 6)(15, \"thead\")(16, \"tr\")(17, \"td\");\n      i0.ɵɵtext(18, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"td\");\n      i0.ɵɵtext(20, \"Testo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"td\");\n      i0.ɵɵtext(22, \"griglia\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"td\");\n      i0.ɵɵtext(24, \"titolo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"td\");\n      i0.ɵɵtext(26, \"difficolta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"td\");\n      i0.ɵɵtext(28, \"materia\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"td\");\n      i0.ɵɵtext(30, \"durata\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"td\");\n      i0.ɵɵtext(32, \"Update | Delete\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"tbody\");\n      i0.ɵɵtemplate(34, ExamListComponent_tr_34_Template, 30, 10, \"tr\", 7);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(34);\n      i0.ɵɵproperty(\"ngForOf\", ctx.data);\n    }\n  },\n  dependencies: [i3.NgForOf, i2.RouterLink, i2.RouterLinkActive],\n  styles: [\".content[_ngcontent-%COMP%] {\\n    display: flex;\\n    margin: 82px auto 32px;\\n    padding: 0 16px;\\n    max-width: 900px;\\n    flex-direction: column;\\n    align-items: center;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZXhhbS1saXN0L2V4YW0tbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLHNCQUFzQjtJQUN0QixtQkFBbUI7RUFDckIiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGVudCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBtYXJnaW46IDgycHggYXV0byAzMnB4O1xuICAgIHBhZGRpbmc6IDAgMTZweDtcbiAgICBtYXgtd2lkdGg6IDkwMHB4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ExamListComponent","constructor","userService","router","location","undefined","data","ngOnInit","reloadData","obsRooms","getVerificaList","subscribe","fati","deleteVerifica","id","console","log","error","updateVerifica","navigate","logout","t","localStorage","removeItem","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/workspace/progDocenti/progettoDocenti-main/progDocenti/src/app/exam-list/exam-list.component.html","/workspace/progDocenti/progettoDocenti-main/progDocenti/src/app/exam-list/exam-list.component.ts"],"sourcesContent":["\n\n<div class=\"panel panel-primary container\">\n    <div class=\"panel-heading\">\n      <h2>Exams List</h2>\n      <nav class=\"navbar navbar-expand-sm bg-dark\" style=\"color: white; \"> \n        <ul >\n          <strong>Logged in</strong> \n          <a routerLink=\"/addVerifica\" class=\"btn btn-danger scrollto\" style=\"margin-left: 50px;\" routerLinkActive=\"active\">Add Exam</a>\n          <a (click)=\"logout()\" style=\"cursor: pointer; right: 0; margin-left: 10px;\" class=\"btn btn-danger scrollto\" routerLinkActive=\"active\">Logout</a>\n        </ul>\n      </nav><br>\n    </div>\n    <div class=\"panel-body\">\n      <table class=\"table table-striped\">\n        <thead>\n          <tr>\n            <td>ID</td>\n            <td>Testo</td>\n            <td>griglia</td>\n            <td>titolo</td>\n            <td>difficolta</td>\n            <td>materia</td>\n            <td>durata</td>\n\n            \n            \n            \n            <td>Update | Delete</td>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let row of data\">\n            <td>{{row.id}}</td>\n            <td>{{row.titolo}}</td>\n            <td>{{row.indirizzo}}</td>\n            <td>{{row.tipo_prova}}</td>\n            <td>{{row.difficolta}}</td>\n            <td>{{row.durata}}</td>\n            <td>{{row.classe}}</td>\n            <td>{{row.materia}}</td>\n            <td>         \n              <a href=\"{{row.testo}}\" class=\"btn btn-warning btn-download btn-sm\">Testo</a>\n            </td>\n            <td>         \n              <a href=\"{{row.griglia}}\" class=\"btn btn-warning btn-download btn-sm\">Griglia</a>\n            </td>\n            <td width=\"150\">\n              <button (click)=\"updateVerifica(row.id)\" class=\"btn btn-warning\" style=\"margin-left: 10px\"><i class=\"bi bi-pencil-square\"></i>U</button>\n              <button (click)=\"deleteVerifica(row.id)\" class=\"btn btn-danger\" style=\"margin-left: 10px\"><i class=\"bi bi-trash3\"></i>D</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>","import { Observable } from \"rxjs\";\nimport { ExamService } from \"../exam.service\";\nimport { Exam } from \"../exam\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { Router } from '@angular/router';\nimport {Location} from '@angular/common'\n\n@Component({\n  selector: 'app-exam-list',\n  templateUrl: './exam-list.component.html',\n  styleUrls: ['./exam-list.component.css']\n})\nexport class ExamListComponent implements OnInit {\n  data: Exam[] = undefined!;\n  obsRooms: Observable<Exam[]> | undefined\n  t: any;\n\n  constructor(private userService: ExamService, private router: Router,private location: Location ) { }\n\n  ngOnInit() {\n    this.reloadData();\n  }\n\n  reloadData() {\n    this.obsRooms = this.userService.getVerificaList()\n    this.obsRooms.subscribe(this.fati)\n  }\n  fati = (data: Exam[]) => {\n    this.data = data;\n  }\n\n\n  deleteVerifica(id: string) {\n    this.userService.deleteVerifica(id)\n      .subscribe(\n        data => {\n          console.log(data);\n          this.reloadData();\n        },\n        error => console.log(error));\n  }\n  updateVerifica(id: string) {\n    this.router.navigate(['updateVerifica', id]);\n  }\n  logout()  {\n    // Clear session data\n    this.t = localStorage.removeItem('user');\n    this.router.navigate(['/login']);\n    console.log(\"hjhjhjhjhjhjkhjkh\"+this.t);\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}